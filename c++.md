# c++ note
  
[toc]

## 第1讲 C++语言概述
### 1.1 C++和C的关系
1. C++保留了C语言原有的所有优点，增加了面向对象的机制
2. C++是由C发展而来的，与C兼容，C++是C的超集
3. 用C语言写的程序基本上可以不加修改地用于C++
4. C++既可用于面向过程的结构化程序设计，又可用于面向对象的程序设计，是一种功能强大的混合型的程序设计语言

### 1.2 C++字符集
1. 小写字母26个： `a b c d e f g h i j k l m n o p q r s t u v w x y z`
2. 大写字母26个： `A B C D E F G H I J K L M N O P Q R S T U V W X Y Z `
3. 数字字符10个：  `0 1 2 3 4 5 6 7 8 9`
4. 符号29个：`_ { } [ ] # ( ) < > % : ; . ? * + - / ^ & | ~ ! = , \ " ’`
5. 空白符5个：<kbd>space</kbd> <kbd>TAB</kbd> <kbd>return</kbd>  <kbd>CTRL</kbd>+<kbd>L</kbd> <kbd>CTRL</kbd>+<kbd>K</kbd>

### 1.3 简单的C++程序
``` c++
#include <iostream>
using namespace std;  
int main()  
{
	cout << "hello word!" << endl;  
	return 0;
}
```

## 第2讲 信息的表示与存储
### 2.1 数值数据在计算机中的表示
#### 2.1.1 整数在计算机中的表示
由于计算机只有0和1的数据形式，因此数的正（+）、负（–）号也要用0和1编码。通常将一个数的最高二进制位定义为符号位，称为数符，**用0表示正数、1表示负数**，其余位表示数值。
1. 原码
>[X]<sub>原</sub>
>+7: **0**0000111
>\- 7: **1**0000111

2. 反码:**负数**的反码为将原码除符号位外的所有位按位取反
>[X]<sub>反</sub>
>+7: **0**0000111
>\- 7: **1**1111000
>
>+0: **0**0000000
>\- 0: **1**1111111

3. 补码：**负数**的补码为将反码加1
>[X]<sub>补</sub>
>+7: **0**0000111
>\- 7: **1**1111001
>
>+0: **0**0000000
>\- 0: **0**0000000

#### 2.1.2 浮点数在计算机中的表示
数学中的实数在计算机中称为浮点数，是指小数点不固定的数。浮点数在计算机中的表示方法比整数复杂得多。

$$ 规格化数 = (-1)^s *2^E * 1.f $$

|1 位|8 位|23位|
|:-:|:-:|:-:|
|s|e[23:30]|f[0:22]|

> 求单精度浮点数50.0在计算机中的表示:
>
> 格式化表示： 50.0 = 110010.0**B** = (-1)<sup>0</sup> * 2<sup>5</sup> * 1.100100**B**
>
> 所以： s=0  E=5  f=100100
>
> e=E+127=132=10000100**B**

所以50.0在计算机中的存储格式如下：
<table>
  <tr>
    <th>0</th>
    <th>10000100</th>
    <th>10010000000000000000000</th>
  </tr>
</table>

### 2.2 非数值数据在计算机中的表示
ASCII




## 第3讲 程序中数据的表示
### 3.1 数据类型

$$C++数据类型 \begin{cases} 
	基本类型 & \begin{cases}
		整型 & \begin{cases}
			短整型 & (short int) \\
			基本整型 & (int) \\
			长整型 & (long int) \\
		\end{cases}\\
		浮点型 & \begin{cases}
			单精度型 & (float) \\
			双精度型 & (double) \\
			长双精度型 & (long double) \\
		\end{cases}\\
		字符型 & (char) \\
		逻辑型 & (bool) \\
		空类型 & (void) \\
	\end{cases}\\ 
	构造类型 & \begin{cases}
		数组类型 & ([]) \\
		结构体类型 & (struct) \\
		共用体类型 & (union) \\
		枚举类型 & (enum) \\
		类类型 & (class) \\
	\end{cases}\\
	指针类型 & (*) \\
	引用类型 & (\&) \\
\end{cases}$$

类型|类型标识符|内存长度|数值范围|精度
:--|--|--|--|--
整型|[signed] int |4 |-2147483648～+2147483647||
无符号整型|unsigned [int]| 4| 0～4294967295||
短整型|[signed] short [int]| 2 |-32768～+32767
无符号短整型|unsigned short [int]| 2 |0～65535
长整型|[signed] long [int]| 4| -2147483648～+2147483647
无符号长整型|unsigned long [int]| 4| 0～4294967295
字符型|[signed] char| 1| -128～+127
单精度型|float| 4 |3.4×10-38～3.4×1038 |7
双精度型|double |8 |1.7×10-308～1.7×10308 |16
长双精度型|long double |同上|同上|19
逻辑型|bool| 1| 0或1||

#### 3.1.1 整型
不同的数据类型规定了不同的机器数长度，决定了对应数据的数值范围，当一个整数超出此范围时计算机会将其转换为在数值范围内所允许的一个数，称为<font color=#ff0000><b>整型数据的溢出处理</b></font>。
一般地，超过最大值的有符号整型数值会向上溢出变成负数，超过最小值的数据会向下溢出变成正数。

#### 3.1.2 浮点型
在C++中规定float型在内存中占用4个字节，提供<font color=#ff0000><b>7位有效数字</b></font>。
double型和long double型在内存中占用8个字节，提供<font color=#ff0000><b>16位有效数字</b></font>。
因为浮点型数据长度是有限的，所以浮点数存在计算误差。
虽然浮点数精度越高计算结果越精确，但其处理时间也长。
一个较大的浮点数与一个很小的浮点数做加法时，由于精度限制使得很小的浮点数被忽略了，从而使得这样的加法无意义。

#### 3.1.3 字符型
在C++语言中<font color=#ff0000><b>字符型数据和整型数据之间可以通用</b></font>。一个字符数据可以赋给整型变量，一个整型数据也可以赋给字符型变量，还可以对字符型数据进行算术运算。

### 3.2 常量
常量（constant）是指程序中其值不能被修改的数据。分为<font color=#ff0000><b>字面常量</b></font>和<font color=#ff0000><b>符号常量</b></font>。

#### 3.2.1 字面常量
从字面形式即可识别的常量称为字面常量（literal constant），例如64、3.1415926和‘A’等。
每个字面常量都具有数据类型，由它的书写形式和值来决定。

##### 3.2.1.1 整型常量
1. 十进制整数 
   以非零十进制数1～9组成的整数
2. 八进制整数
   以0开头和八进制数0～7组成的整数
3. 十六进制整数
   以0x或0X开头和十六进制数0～9、A～F或a～f组成的整数（字母大小写任意）

##### 3.2.1.2 浮点型常量
1. 小数形式。由小数点、十进制整数和小数组成的浮点数。整数和小数可以省略其中之一，但不能省略小数点。
2. 指数形式，又称科学记数法表示。以`f E n`或 `f e n`格式组成的浮点数，其中E或e表示以10为底的幂，f可以是整数或小数，n为指数且必须是整型。

<font color=#ff0000><b>浮点型常量默认为double型。若在浮点数后面加一个字母f或F，则它是float型</b></font>

##### 3.2.1.3 字符常量
以一对单引号<font color=#ff0000><b>' '</b></font>括起来的一个字符表示字符常量。字符常量表示的是一个字符，存储的是该字符的ASCII码值。

##### 3.2.1.4 用转义字符表示字符常量
以反斜线<font color=#ff0000><b>\\</b></font>开头，后跟一个或几个字符序列表示的字符称为转义字符

|转义字符形式|含 义|ASCII码值|
|:--|--|--
\a| 响铃符|7
\b |退格符|8
\f |进纸符，将光标位置移到下页开头|12
\n |换行符，将光标位置移到下一行开头|10
\r |回车符，将光标位置移到本行开头|13
\t |水平制表符，光标跳到下一个TAB位置|9
\v |垂直制表符|11
\' |单引号|39
\" |双引号|34
\\\\ |反斜线|92
\? |问号|63
\0 |空字符|0
\ooo |用1～3位八进制数ooo为码值所对应的字符ooo|（八进制）
\xhh |用1～2位十六进制数hh为码值所对应的字符hh|（十六进制）

\ooo和\xhh称为通用转义字符，其中ooo表示可以用1至3位八进制数作为码值表示一个ASCII字符，hh表示可以用1至2位十六进制数作为码值表示ASCII字符。

>如：“\1234” “\123和4”，"\128" “\12和8”，"\19" “\1和9”，\9 错误！，\0xFE 错误！
>
>由于字符型数据在内存中只占用1个字节，即使按无符号处理其最大值也仅是255（八进制为377），因此ooo的数值范围为0～377（八进制），其他值使得字符型数据溢出。同理，hh的数值范围为0～FF。

``` c++
#include <iostream>
using namespace std;
int main()
{
	cout << "ab c\t de \rf\tg" << endl;
	cout <<"h\ti\b\bj k\n123\'\"\\\x41\102CDE" <<endl;
	return 0;
}
```
```
f└┘└┘└┘└┘└┘└┘└┘g d e
h└┘└┘└┘└┘└┘└┘ j└┘k
123'"\ABCDE
```

##### 3.2.1.5 字符串常量
以一对双引号<font color=#ff0000><b>" "</b></font>括起来的零个或多个字符组成的字符序列称为字符串常量，ASCII字符集或多字节字符集（如汉字、日韩文字等）都可以组成字符串。
双引号是字符串常量的边界符，不是字符串的一部分，如果在字符串中要出现双引号应使用转义字符`\"`

#### 3.2.2 符号常量
符号常量定义形式为：
``` c++
#define 标识符 常量
```
其中`#define`是宏定义命令，作用是将标识符定义为常量值，在程序中所有出现该标识符的地方均用常量替换。

### 3.3 变量
变量实际上就是计算机中的一个内存单元。
C++语言通过定义变量时指定其数据类型来确定内存单元的大小，不同的数据类型有不同的数据形式和存储形式，需要一定数量（单位为字节）的内存单元。

#### 3.3.1 变量的使用
C++语言变量必须“**先定义，后使用**”，定义变量的一般形式是：
``` c++
变量类型 变量名列表;
```

变量定义后，变量值是未确定的（除了静态存储情形），即变量值是随机的。直接使用此时的变量参与运算，运算结果也是随机的。
在变量定义的同时给变量一个初值，称为**变量初始化**（initialized），一般形式为：
``` c++
变量类型 变量名=初值;
变量类型 变量名1=初值1, 变量名2=初值2, ... ;
```

定义变量后，可以通过赋值语句为变量赋予新的数据，一般形式为：
``` c++
变量名=表达式;
```

#### 3.3.2 变量的const限定
在变量定义前加上const修饰，这样的变量称为**只读变量**（read-onlyvariable）或常变量（constant variable）
它在程序运行期间的值不能被修改。其定义的一般形式为
``` c++
const 变量类型 变量名列表;
```




